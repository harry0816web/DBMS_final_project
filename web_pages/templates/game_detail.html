<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>比賽詳細資料</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/game_detail.css') }}">
</head>

<body>
    <header>
        <div>
            <a href="/main_page">Home</a>
        </div>
        <div>
            <a href="{{'/teams'}}">Teams</a>
            <a href="{{'/players'}}">Players</a>
            <a href="{{'/'}}">Log out</a>
        </div>
    </header>
    <h1>{{ home_team }} vs {{ away_team }}</h1>
    <p>Game ID: {{ game_id }}</p>

    <h2>主場: {{ home_team }}</h2>
    <table>
        <thead>
            <tr>
                <th>姓名</th>
                <th>位置</th>
                <th>上場時間</th>
                <th>得分</th>
                <th>籃板</th>
                <th>助攻</th>
                <th>抄截</th>
                <th>阻攻</th>
            </tr>
        </thead>
        <tbody>
            {% for player in players if player.team == home_team %}
            <tr>
                <td>{{ player.name }}</td>
                <td>{{ player.position }}</td>
                <td>{{ player.minutes }}</td>
                <td>{{ player.points }}</td>
                <td>{{ player.rebounds }}</td>
                <td>{{ player.assists }}</td>
                <td>{{ player.steals }}</td>
                <td>{{ player.blocks }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2>客場: {{ away_team }}</h2>
    <table>
        <thead>
            <tr>
                <th>姓名</th>
                <th>位置</th>
                <th>上場時間</th>
                <th>得分</th>
                <th>籃板</th>
                <th>助攻</th>
                <th>抄截</th>
                <th>阻攻</th>
            </tr>
        </thead>
        <tbody>
            {% for player in players if player.team == away_team %}
            <tr>
                <td>{{ player.name }}</td>
                <td>{{ player.position }}</td>
                <td>{{ player.minutes }}</td>
                <td>{{ player.points }}</td>
                <td>{{ player.rebounds }}</td>
                <td>{{ player.assists }}</td>
                <td>{{ player.steals }}</td>
                <td>{{ player.blocks }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    
    <h2>即時論壇</h2>
    {% if comments %}
    <table>
        <thead>
            <tr>
                <th>使用者名稱</th>
                <th>留言</th>
            </tr>
        </thead>
        <tbody>
            {% for comment in comments %}
            <tr>
                <td>{{comment.username}}</td>
                <td>{{comment.content}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}

    <h2>留言區</h2>
    <form action="/game_detail_page/{{game_id}}" method="post">
        <textarea id="comment-input" name="comment" placeholder="輸入你的留言..."></textarea>
        <br>
        <button id="submit-button">送出留言</button>
    </form>
    
</body>

</html>
